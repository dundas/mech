# Production Environment Configuration for queue.mech.is
# This file should be copied to .env.production and filled with actual values

# Server Configuration
NODE_ENV=production
PORT=3003

# DigitalOcean Valkey Database Configuration
# These values come from DigitalOcean's managed Valkey database
REDIS_HOST=${VALKEY_HOST}
REDIS_PORT=${VALKEY_PORT}
REDIS_PASSWORD=${VALKEY_PASSWORD}
REDIS_DB=0

# MongoDB Configuration (for logging and persistence)
MONGODB_URI=${MONGODB_URI}

# Security
API_KEY_HEADER=x-api-key
MASTER_API_KEY=${MASTER_API_KEY}
ENABLE_API_KEY_AUTH=true

# Worker Configuration
MAX_WORKERS_PER_QUEUE=10
DEFAULT_JOB_ATTEMPTS=3
DEFAULT_JOB_BACKOFF_DELAY=1000

# Queue Configuration
REMOVE_COMPLETED_JOBS_AFTER=3600
REMOVE_FAILED_JOBS_AFTER=86400

# Service Integrations
OPENAI_API_KEY=${OPENAI_API_KEY}

# Email Service (optional - choose one)
SENDGRID_API_KEY=${SENDGRID_API_KEY}
# AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
# AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
# AWS_REGION=${AWS_REGION}

# Monitoring
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=3004

# Logging
LOG_LEVEL=info

# Rate Limiting (production values)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000