# Mech AI - Repository-Centric Development Environment

> **Project Version**: 2.0.0  \n> **Last Updated**: 2025-01-20  \n> **Status**: Enhanced with AI Agent Integration  \n\n## Overview\n\nMech AI is a comprehensive repository-centric development environment that combines code execution, AI assistance, and automated testing into a unified platform. The system enables developers to execute repositories in isolated WebContainer environments while receiving intelligent AI assistance with full context awareness and automated browser testing capabilities.\n\n## 🚀 Key Features\n\n### Repository Management\n- **Multi-Repository Support**: Manage multiple repositories within projects\n- **WebContainer Execution**: Browser-based code execution with full isolation\n- **Real-time Monitoring**: Live execution status, logs, and performance metrics\n- **Configuration Management**: Environment variables, build commands, and framework detection\n\n### AI Agent Integration\n- **Context-Aware Assistant**: AI with full repository and execution context\n- **Code Generation**: Write and modify code with approval workflows\n- **Automated Testing**: Playwright integration for comprehensive browser testing\n- **Tool Integration**: Database access, web browsing, and file system operations\n- **Real-time Feedback**: Immediate analysis and suggestions during development\n\n### Browser Automation & Testing\n- **Playwright Integration**: Full browser automation capabilities\n- **Visual Testing**: Screenshots and video recording for AI analysis\n- **Automated Test Generation**: AI creates tests based on user requests\n- **Code-Test-Fix Loop**: Automatic testing after code changes\n- **Performance Monitoring**: Real-time performance analysis\n\n## 🏗️ Architecture\n\n### Core Components\n\n```mermaid\ngraph TB\n    A[User Interface] --> B[Repository Manager]\n    A --> C[AI Assistant]\n    A --> D[Execution Panel]\n    \n    B --> E[WebContainer Service]\n    C --> F[AI Backend API]\n    D --> G[Playwright Testing]\n    \n    E --> H[Code Execution]\n    F --> I[Context Analysis]\n    G --> J[Browser Automation]\n    \n    H --> K[Preview URLs]\n    I --> L[Code Generation]\n    J --> M[Test Results]\n    \n    K --> G\n    L --> E\n    M --> C\n```\n\n### Technology Stack\n\n#### Frontend\n- **Next.js 15**: App Router with React Server Components\n- **TypeScript**: Full type safety\n- **Tailwind CSS**: Modern styling\n- **shadcn/ui**: Component library\n- **WebContainer API**: Browser-based code execution\n\n#### Backend\n- **Next.js API Routes**: Server-side logic\n- **MongoDB**: Repository and project data\n- **Playwright**: Browser automation and testing\n- **AI Integration**: Context-aware assistance\n\n#### Development Environment\n- **WebContainers**: Isolated execution environments\n- **Hot Reload**: Real-time code updates\n- **Environment Variables**: Secure configuration management\n- **Preview URLs**: Instant application access\n\n## 🤖 Enhanced AI Agent Workflow\n\n### Execute Button Enhancement\n\nWhen a user clicks the execute button, the following enhanced workflow is triggered:\n\n1. **Repository Execution**: WebContainer boots and loads repository code\n2. **Environment Setup**: Environment variables and dependencies are configured\n3. **AI Context Preparation**: Full repository context is prepared for AI assistant\n4. **Playwright Integration**: Browser testing capabilities are initialized\n5. **Real-time Monitoring**: Execution status and logs are monitored\n\n### AI Capabilities\n\n#### Code Writing & Modification\n- Generate new features based on natural language requests\n- Modify existing code with context awareness\n- Approval workflow for code changes\n- Automatic integration with WebContainer environment\n\n#### Browser Testing & Automation\n- Generate test instructions from user requests\n- Execute Playwright tests automatically\n- Capture screenshots and videos for analysis\n- Provide detailed test results and feedback\n\n#### Tool Integration\n- **Database Tools**: Query and modify database state\n- **Web Browsing**: Search documentation and resources\n- **File System**: Read and write files in the repository\n- **API Testing**: Test endpoints and integrations\n\n### Automated Testing Flow\n\n```mermaid\nsequenceDiagram\n    participant U as User\n    participant AI as AI Agent\n    participant WC as WebContainer\n    participant PW as Playwright\n    \n    U->>AI: \"Add a login form\"\n    AI->>AI: Generate code\n    AI->>U: Present code for approval\n    U->>AI: Approve\n    AI->>WC: Write code to repository\n    WC->>WC: Hot reload application\n    AI->>PW: Generate test instructions\n    PW->>WC: Test login form\n    PW->>AI: Return test results\n    AI->>U: \"Login form added and tested successfully\"\n```\n\n## 📁 Project Structure\n\n```\nmech-ai/\n├── frontend/                 # Next.js frontend application\n│   ├── app/                 # App Router pages and API routes\n│   ├── components/          # React components\n│   ├── lib/                # Utility libraries\n│   └── services/           # Service layer\n├── docs/                   # Comprehensive documentation\n│   ├── AI_AGENT_ENHANCED_WORKFLOW.md\n│   ├── PLAYWRIGHT_INTEGRATION_GUIDE.md\n│   ├── REPOSITORY_MANAGEMENT.md\n│   ├── REPOSITORY_EXECUTION.md\n│   └── API_REFERENCE.md\n└── mech-ai/docs/internal/  # Internal architecture docs\n    └── features/\n        └── code-execution-environment/\n```\n\n## 🚦 Getting Started\n\n### Prerequisites\n- Node.js 18+\n- pnpm (recommended) or npm\n- MongoDB instance\n- Environment variables configured\n\n### Installation\n\n1. **Clone the repository**\n   ```bash\n   git clone <repository-url>\n   cd mech\n   ```\n\n2. **Install dependencies**\n   ```bash\n   cd mech-ai/frontend\n   pnpm install\n   ```\n\n3. **Configure environment**\n   ```bash\n   cp .env.example .env.local\n   # Edit .env.local with your configuration\n   ```\n\n4. **Start development server**\n   ```bash\n   pnpm dev\n   ```\n\n### Environment Configuration\n\n```bash\n# Database\nMONGODB_URI=mongodb://localhost:27017/mech-ai\n\n# Authentication\nNEXTAUTH_SECRET=your-secret-key\nGITHUB_CLIENT_ID=your-github-client-id\nGITHUB_CLIENT_SECRET=your-github-client-secret\n\n# AI Integration\nOPENAI_API_KEY=your-openai-key\n\n# Playwright Testing\nPLAYWRIGHT_HEADLESS=true\nPLAYWRIGHT_TIMEOUT=30000\nBROWSERLESS_TOKEN=your-browserless-token  # Optional\n\n# WebContainer\nWEBCONTAINER_TIMEOUT=60000\n```\n\n## 🔧 Usage Examples\n\n### Basic Repository Execution\n\n1. **Create a Project**: Navigate to `/projects` and create a new project\n2. **Add Repository**: Add a GitHub repository to your project\n3. **Configure Environment**: Set up environment variables and build commands\n4. **Execute**: Click the execute button to start the WebContainer\n5. **AI Assistance**: Use the AI assistant tab for help and automation\n\n### AI-Powered Development\n\n1. **Request Feature**: \"Add a user authentication system\"\n2. **Review Code**: AI generates code for approval\n3. **Approve Changes**: Code is written to the repository\n4. **Automatic Testing**: Playwright tests the new feature\n5. **Iterate**: AI provides feedback and suggestions for improvements\n\n### Browser Testing\n\n1. **Request Test**: \"Test the checkout process\"\n2. **AI Generates Tests**: Specific Playwright instructions are created\n3. **Execute Tests**: Browser automation runs the tests\n4. **Review Results**: Screenshots and detailed results are provided\n5. **Fix Issues**: AI suggests fixes for any problems found\n\n## 📊 Key Benefits\n\n### For Developers\n- **Faster Development**: AI assistance reduces coding time\n- **Immediate Testing**: Instant feedback on code changes\n- **Context Awareness**: AI understands your entire repository\n- **Automated Quality Assurance**: Continuous testing and monitoring\n\n### For Teams\n- **Consistent Environments**: Isolated WebContainer execution\n- **Knowledge Sharing**: AI learns from repository patterns\n- **Quality Control**: Automated testing and code review\n- **Documentation**: AI-generated documentation and explanations\n\n### For Projects\n- **Rapid Prototyping**: Quick feature development and testing\n- **Continuous Integration**: Automated testing pipeline\n- **Performance Monitoring**: Real-time performance analysis\n- **Scalable Architecture**: Support for multiple repositories and environments\n\n## 🔮 Future Enhancements\n\n### Short-term (1-2 months)\n- **Advanced AI Tools**: Database schema generation, API documentation\n- **Visual Regression Testing**: Automated UI change detection\n- **Performance Optimization**: AI-driven performance suggestions\n- **Mobile Testing**: Responsive design testing\n\n### Medium-term (3-6 months)\n- **Multi-language Support**: Support for more programming languages\n- **Team Collaboration**: Real-time collaborative development\n- **Advanced Analytics**: Detailed development metrics\n- **Custom AI Models**: Fine-tuned models for specific domains\n\n### Long-term (6+ months)\n- **Autonomous Development**: AI-driven feature development\n- **Predictive Analysis**: Anticipate issues before they occur\n- **Advanced Integrations**: CI/CD pipeline integration\n- **Enterprise Features**: Advanced security and compliance\n\n## 📚 Documentation\n\nFor detailed documentation, see:\n\n- **[AI Agent Enhanced Workflow](./AI_AGENT_ENHANCED_WORKFLOW.md)**: Complete AI integration details\n- **[Playwright Integration Guide](./PLAYWRIGHT_INTEGRATION_GUIDE.md)**: Browser automation setup\n- **[Repository Management](./REPOSITORY_MANAGEMENT.md)**: Repository system overview\n- **[Repository Execution](./REPOSITORY_EXECUTION.md)**: WebContainer integration\n- **[API Reference](./API_REFERENCE.md)**: Complete API documentation\n- **[Setup Guide](./SETUP_GUIDE.md)**: Quick setup instructions\n\n## 🤝 Contributing\n\nWe welcome contributions! Please see our contributing guidelines and feel free to submit issues and pull requests.\n\n## 📄 License\n\nThis project is licensed under the MIT License - see the LICENSE file for details.\n\n---\n\n**Mech AI** - Transforming repository execution into intelligent development environments with AI assistance and automated testing capabilities. 